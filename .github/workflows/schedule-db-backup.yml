name: Schedule Database Backup

on:
  schedule:
    - cron: '0 0 * * *' # Runs every night at midnight UTC
  workflow_dispatch:
  push:
    branches:
      - ci/893-automate-db-backups

jobs:
  backup-test:
    uses: ./.github/workflows/db-backup-template.yml
    with:
      runner: tst

  backup-acceptance:
    uses: ./.github/workflows/db-backup-template.yml
    with:
      runner: ACC

  backup-production:
    uses: ./.github/workflows/db-backup-template.yml
    with:
      runner: PRD