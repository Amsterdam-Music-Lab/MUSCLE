{% extends "admin/base_site.html" %} {% load inline_action_tags %} {% block content %}
<style>
    table {
        width: 100%;
    }
    td {
        padding: 8px 2px;
    }
    p.form-filename {
        max-width: 200px;
    }
    #back-button {
        float: right;
    }
    #update-button {
        display: block;
        margin-top: 2em;
        margin-bottom: 2em;
        width: 24em;
        font-weight: 400;
        background: var(--default-button-bg);
    }
</style>
<h1>Edit sections for playlist: {{playlist.name}}</h1>
<form action="" method="post">
    {% csrf_token %}{% render_inline_action_fields %}
    <table>
        <tr>
            <th>Code</th>
            <th>Filename</th>
            <th>Artist</th>
            <th>Name</th>
            <th>Start-time</th>
            <th>Duration</th>
            <th>Group</th>
            <th>Tag</th>
            <th>NL</th>
        </tr>

        {% for section in sections %}
        <tr>
            <td>
                <p>{{section.code}}</p>
            </td>
            <td>
                <p class="form-filename">{{section.filename}}</p>
            </td>
            <td>
                <input type="text" name="{{section.id}}_artist" maxlength="128" id="{{section.id}}_artist"
                    value="{{ section.artist}}">

            </td>
            <td>
                <input type="text" name="{{section.id}}_name" maxlength="128" id="{{section.id}}_name"
                    value="{{ section.name}}">
            </td>
            <td>
                <input type="text" name="{{section.id}}_start_time" maxlength="128" required=""
                    id="{{section.id}}_start_time" value="{{ section.start_time}}">
            </td>
            <td>
                <input type="text" name="{{section.id}}_duration" maxlength="128" required=""
                    id="{{section.id}}_duration" value="{{ section.duration}}">
            </td>
            <td>
                <input type="text" name="{{section.id}}_group" maxlength="128" id="{{section.id}}_group"
                    value="{{ section.group}}">
            </td>
            <td>
                <input type="text" name="{{section.id}}_tag" maxlength="128" id="{{section.id}}_tag"
                    value="{{ section.tag}}">
            </td>

            <td>
                <input type="checkbox" name="{{section.id}}_restrict_to_nl" id="{{section.id}}_restrict_to_nl" 
                    {% if section.restrict_to_nl %} checked {% endif %}>
            </td>
        </tr>
        {% endfor %}

    </table>
    <input type="submit" name="_update" value="Update sections" id="update-button" />
</form>
<form>
    <input type="submit" name="_back" value="Go back" id="back-button" />
</form>
{% endblock %}