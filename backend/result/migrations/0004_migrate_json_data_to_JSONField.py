# Generated by Django 3.2.20 on 2023-11-23 12:40

from django.db import migrations
import json


def forwards_func(apps, schema_editor):
    Result = apps.get_model('result', 'Result')
    for result in Result.objects.all():
        if result.json_data:
            for key,value in json.loads(result.json_data).items():
                result.json_temp[key] = value
                result.save()


def reverse_func(apps, schema_editor):
    Result = apps.get_model('result', 'Result')
    for result in Result.objects.all():        
        result.json_data = json.dumps(result.json_temp)
        result.save()


class Migration(migrations.Migration):

    dependencies = [('result', '0003_result_json_temp'),]

    operations = [
        migrations.RunPython(forwards_func, reverse_func),
    ]
